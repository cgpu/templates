manifest {
    description = 'Template Nextflow'
    mainScript  = 'main.nf'
}

params {
    // input options
    input = false
    outdir = 'results'

    // report_dir is:
    // - the folder from the container that includes the scripts for NF <= v20.01 (bin)
    // - the ${projectDir}/bin folder of the root of the repo with the scripts for NF >= v20.10
    report_dir = '/opt/bin/'

    // optional
    help = false

    // resources
    max_cpus = 2
    max_memory = 4.GB
    max_time = 8.h
}

profiles {
  standard {includeConfig 'conf/google.config'}
  docker { docker.enabled = true }
  base {includeConfig 'conf/base.config'}
  google {includeConfig 'conf/google.config'}
  test {includeConfig 'conf/test.config'}
  local {includeConfig 'conf/test.config'}
}

process {
  withName: step_1 {
    container = 'quay.io/lifebitai/step_1'
  }
  withName: report {
    container = 'quay.io/lifebitai/report'
  }
}